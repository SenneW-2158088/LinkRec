services:
  fuseki:
    image: stain/jena-fuseki
    ports:
      - 3030:3030
    environment:
      - ADMIN_PASSWORD=admin
    volumes:
      - database:/fuseki/databases
      - ./fuseki:/fuseki
    user: "root"
    networks:
      - internal-network

  backend:
    build: ./link-rec/apps/backend
    volumes:
      - ./link-rec/apps/backend/src:/app/src
      - /app/node_modules
    depends_on:
      - fuseki
    networks:
      - internal-network

  # frontend:
  #   build: ./link-rec/apps/frontend
  #   ports:
  #     - 8080:8080
  #   depends_on:
  #     - backend
  #   networks:
  #     - internal-network
  #     - public-network

networks:
  internal-network:
    internal: true
  public-network:

volumes:
  database:
